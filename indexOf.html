<script src="../simpletest.js"></script>
<script>

//Prototype Implementation:

//Function signature:
  //.indexOf(searchElement[, fromIndex])

//Callback parameters:
  //searchElement
  //fromIndex

//Return Value: 
  //The first index of the element in the array
  //-1 if not found.

//Description: 
//indexOf() compares searchElement to elements of the Array using strict equality (the same method used by the === or triple-equals operator).

function indexOf(array, searchElement, fromIndex) {
  var startIndex = 0;
  var arrayLength = array.length;

  if(fromIndex) {
    startIndex = fromIndex
  }

  if(fromIndex && fromIndex === -1) {
    startIndex = arrayLength + fromIndex

  }

  for(i = startIndex; i < arrayLength; i++) {
    if(searchElement === array[i]) {
      return i;
    }
  }
  return -1;
}



tests({
  'It should return the first index of the searchElement in the array.': function() {
    var indexOfResult = indexOf([1, 2, 3, 2],2);
    eq(indexOfResult, 1);
  },
  'It should return -1 if the searchElement is not present in the array.': function() {
    var indexOfResult = indexOf([1, 2, 3], 5);
    eq(indexOfResult, -1)
  },
  'It should start searching at the index passed in as the 3rd parameter.': function() {
    var indexOfResult = indexOf([1, 1, 1], 1, 2);
    eq(indexOfResult, 2);
  },
  'If the fromIndex value is negative, it is taken as the offset from the end of the array.': function() {
    var indexOfResult = indexOf([1, 2, 3, 4], 2, -1);
    eq(indexOfResult, -1)
  },
  'It should return -1 if the fromIndex value is greater than or equal to the array length.': function() {
    var indexOfResult = indexOf([1, 2, 3], 2, 5);
    eq(indexOfResult, -1);
  },
  'It should search the whole array if no index is provided.': function() {
    var indexOfResult = indexOf([1, 2, 3, 2],2);
    eq(indexOfResult, 1);
  },
  'It should search the whole array if the provided index is 0.': function() {
    var indexOfResult = indexOf([1, 2, 3, 2], 2, 0);
    eq(indexOfResult, 1);
  }


})

</script>