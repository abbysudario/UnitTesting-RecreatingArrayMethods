<script src="../simpletest.js"></script>
<script>

//Prototype Implementation:
    // function forEach(array, callback, optionalThis) {
    //     for (var i = 0; i < array.length; i++) {
    //         return result[i];
    //     };
    // }

//Function signature:
    //forEach(callback(currentValue [, index [, array]])[, thisArg])

//Callback parameters:
    //currentValue
    //index is optional
    //array is optional
  
//Return Value: 
    //undefined

//Description:
    //forEach() calls a provided callback function once for each element in an array in ascending order. It is not invoked for index properties that have been deleted or are uninitialized.


function forEach (array, callback, optionalThis) {
    const length = array.length;
    let forEachCallback = callback;

    //if optionalThis is present
    if (optionalThis) {
        forEachCallback = callback.bind(optionalThis);
    }
    for (let i = 0; i < length; i++) {
        forEachCallback(array[i], i, array );
    }
}


tests ({
    'It should run the callback function array.length times': function () {
    let numberOfTimesCallbackHasRun = 0;
    forEach([1,2,3], function () {
        numberOfTimesCallbackHasRun++;
    });
    eq(numberOfTimesCallbackHasRun, 3);
    },
    'It should pass in the ith element as the first argument to the callback': function () {

    forEach([1], function (number) {
        eq(number, 1);
    });
    },
    'It should pass in the ith position as the second argument to the callback': function () {
    forEach([1], function (number, index) {
    eq(index, 0);
    });
    },
    'It should pass in the original Array as the third argument to the callback': function () {
    const testArray = [1,2,3];
    forEach(testArray, function (number, index, originalArray) {
    eq(originalArray, testArray);
    });
    },
    'It should accept an optional this object': function () {
    forEach([1], function () {
    eq(this.description, 'I should be accessible inside the of the callback.');
    }, {description: 'I should be accessible inside the of the callback.'});

    }
});

</script>